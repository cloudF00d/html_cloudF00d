<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 제이쿼리 -->
    <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
    
    <!-- 폰트패밀리: Poppins -->
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
    <script src="/resources/js/header.js"></script>
    <script src="/resources/js/sideBar.js"></script>
    <!-- 항상 변경 해야할 js 링크 -->
    <script src="/resources/js/projectMake-main/projectManage/sellerInfo.js"></script>
    <link rel="stylesheet" href="/resources/css/header-project/css.css">
    <link rel="stylesheet" href="/resources/css/sideBar/css.css">
    <link rel="stylesheet" href="/resources/css/footer/css.css">
    <link rel="stylesheet" href="/resources/css/background-board/css.css">
    <!-- 항상 변경 해야할 css 링크 -->
    <link rel="stylesheet" href="/resources/css/projectMake-main/projectManage-main/sellerInfo/css.css">

    <title>projectMake</title>
</head>

<body>
    <header>
        <img src="/resources/images/01_logoimg/textLogoNone.png" alt="로고" width="100" class="logo-image">

        <!-- 상단 메뉴 -->
        <nav>
            <ul>
                <li><a href="#">홈</a></li>
                <li><a href="#">프로젝트</a></li>
                <li><a href="#">펀딩</a></li>
                <li><a href="#">도움말</a></li>
            </ul>
        </nav>

        <!-- 메뉴 2: 토글 기능 있음 -->
        <div class="menu-item">
            <label class="toggle-label" id="toggle-label">더보기</label>
            <div class="menu-content" id="menu-content">
                <ul>
                    <li><a href="#">메뉴 항목 1</a></li>
                    <li><a href="#">메뉴 항목 2</a></li>
                    <li><a href="#">메뉴 항목 3</a></li>
                </ul>
            </div>
        </div>

        <!-- 검색창 -->
        <div class="search-box">
            <input type="text" placeholder="검색어를 입력하세요">
            <img src="/resources/images/02_img/돋보기.png" alt="돋보기 이미지" class="search-icon" onclick="performSearch()">
        </div>
        </div>

        <!-- 로그인 회원가입 -->
        <div class="login-signup">
            <nav>
                <ul>
                    <li><a href="#">로그인</a></li>
                    <li><a href="#">회원가입</a></li>
                </ul>
            </nav>
        </div>

        <!-- 프로젝트 시작하기 >>> 나가기 -->
        <div class="project-button">
            <a href="#">나가기</a>
        </div>
    </header>

    <div class="back-side-container">

        <!-- 사이드바 배경 -->
        <div class="sideBar">

            <!-- 사이드바 메뉴 -->
            <div class="sideBar-menu">

                <div id="navSide">
                    <ul class="sideBar-toggle">
                        <li><a href="#">프로젝트 관리</a><br>
                            <ul class="sub">
                                <li><a href="#">요금제 선택</a></li>
                                <li><a href="#">프로젝트 정보</a></li>
                                <li><a href="#">기본 정보</a></li>
                                <li><a href="#">스토리 작성</a></li>
                                <li><a href="#">리워드 작성</a></li>
                                <li><a href="#">정책</a></li>
                                <li><a href="#">판매자 정보</a></li>
                            </ul>
                        </li>
                        <li><a href="#">프로젝트 현황</a><br>
                            <ul class="sub">
                                <li><a href="#">완료된 펀딩</a></li>
                                <li><a href="#">진행중인 펀딩</a></li>
                            </ul>
                        </li>
                        <li><a href="#">구매자 조회</a><br>
                            <ul class="sub">
                                <li><a href="#">완료된 펀딩</a></li>
                                <li><a href="#">진행중인 펀딩</a></li>
                            </ul>
                        </li>
                        <li><a href="#">배송 관리</a><br>
                            <ul class="sub">
                                <li><a href="#">발송 관리</a></li>
                                <li><a href="#">환불 관리</a></li>
                                <li><a href="#">교환 관리</a></li>
                            </ul>
                        <li><a href="#">QnA 관리</a><br>
                            <ul class="sub">
                                <li><a href="#">배송 QnA</a></li>
                                <li><a href="#">프로젝트 QnA</a></li>
                            </ul>
                        </li>
                        </li>
                    </ul>
                </div>
                <br><br><br><br><br><br><br>
                <div class="sideBar-adver">
                    <div class="sideBar-adver-back"></div>
                    <span class="sideBar-adver-text">요금제를 업그레이드하고
                        더 많은 광고기회를 얻으세요</span>
                    <div class="sideBar-adver-button">
                        <div class="sideBar-adver-button-back"></div>
                        <span class="sideBar-adver-button-text">지금 업그레이드!</span>
                    </div>
                </div>
            </div>
        </div>

        <section class="back-board-container">
            <!-- 배경 시트 좌측 상단 텍스트 -->
            <div class="greeting-text">판매자 정보</div>
            <!-- 배경 시트 -->
            <div class="back-board">
                <!-- 로고 -->
                <div class="board-logo img">
                    <img src="/resources/images/01_logoimg/textLogoNone.png">
                </div>
                
                <div class="category-text">판매자 명<span class="greeting-text-star"> *</span></div>
                <div class="category-sub-text">법인 사업자는 법인등기부상 법인명 / 개인 사업자는 주민등록상 성명 또는 상호 / 개인은 주민등록상 성명을 입력해 주세요.</div><br>
                
                    
      
                    <div class="seller-name-container">
                        <div class="seller-name-textBox">
                            <textarea id="seller-name-text" name="seller-name-text" placeholder="판매자 명을 입력하세요."
                                oninput="updateCharacterCount()"></textarea>
                            </div>
                        <p id="characterCount">30자 남음</p>
                    </div>

                    <br><br>
                    
                    <div class="category-text">판매자 프로필 이미지<span class="greeting-text-star"> *</span></div>
                        <br>
                        <div class="profile-image-container">
                            <div class="profile-image-imgBox">
                                <div class="profile-image-img" onclick="openPopup()"">등록하기</div>
                            </div>
                            <p>3MB 이하의 JPG, JPEG, PNG 파일<br>
                                해상도 300x300 픽셀 이상</p>
                        </div>
                        
                
                        <div id="popup-container">
                            <div id="popup-content">
                                <span id="popup-close" onclick="closePopup()">X</span>
                                <input type="file" id="file-input" accept="image/jpeg, image/png" onchange="handleFileSelect(this)">
                                <div id="image-preview"></div>
                                <button onclick="confirmImage()">확인</button>
                            </div>
                        </div>
                    
                        <script>
                            function openPopup() {
                                document.getElementById('popup-container').style.display = 'flex';
                            }
                        
                            function closePopup() {
                                document.getElementById('popup-container').style.display = 'none';
                            }
                        
                            function handleFileSelect(input) {
                                var files = input.files;
                                var preview = document.getElementById('image-preview');
                        
                                // 이미지 파일이 맞는지, 용량 및 해상도 조건 충족 확인
                                if (files.length === 1) {
                                    var file = files[0];
                                    var reader = new FileReader();
                        
                                    reader.onload = function (e) {
                                        var image = new Image();
                                        image.src = e.target.result;
                        
                                        image.onload = function () {
                                            if (
                                                (file.type === 'image/jpeg' || file.type === 'image/png') &&
                                                file.size <= 3 * 1024 * 1024 && // 3MB 제한
                                                image.width >= 300 && image.height >= 300
                                            ) {
                                                // 기존 이미지 제거
                                                preview.innerHTML = '';
                        
                                                // 조건 충족 시 이미지 미리보기 추가
                                                var imgElement = document.createElement('img');
                                                imgElement.src = e.target.result;
                                                imgElement.style.maxWidth = '80px';
                                                imgElement.style.maxHeight = '80px';
                                                imgElement.onclick = function () {
                                                    removeImage(this);
                                                };
                                                preview.appendChild(imgElement);
                                            } else {
                                                alert('이미지 형식 또는 크기가 제한에 맞지 않습니다.');
                                            }
                                        };
                                    };
                        
                                    reader.readAsDataURL(file);
                                } else if (files.length > 1) {
                                    alert('이미지는 1개만 등록 가능합니다.');
                                }
                            }
                        
                            function removeImage(imgElement) {
                                // 클릭된 이미지 제거
                                imgElement.parentNode.removeChild(imgElement);
                                // 미리보기에서도 이미지 제거
                                var preview = document.getElementById('image-preview');
                                preview.innerHTML = '';
                            }
                        
                            function confirmImage() {
                                var preview = document.getElementById('image-preview');
                                var clonedImage = preview.firstElementChild;
                        
                                if (clonedImage) {
                                    // 기존 이미지 삭제
                                    removeImage(clonedImage);
                        
                                    var newImage = document.createElement('img');
                                    newImage.src = clonedImage.src;
                                    newImage.style.maxWidth = '80px';
                                    newImage.style.maxHeight = '80px';
                                    newImage.onclick = function () {
                                        removeImage(this);
                                    };
                        
                                    // 대체된 이미지를 .profile-image-container 아래 모든 이미지 대상으로 변경
                                    var profileImages = document.querySelectorAll('.profile-image-container img');
                                    profileImages.forEach(function (img) {
                                        img.parentNode.removeChild(img);
                                    });
                        
                                    document.querySelector('.profile-image-container').appendChild(newImage);
                                    closePopup();
                                } else {
                                    alert('이미지를 먼저 등록해주세요.');
                                }
                            }
                        </script>
                        

                        <div class="category-text">문의 이메일<span class="greeting-text-star"> *</span></div>
                            <br>                            
                            <div class="sellerEmail">
                                <input type="text" id="email" name="email" placeholder="example@example.com">
        
                                <label for="site"></label>
                                <select id="site" name="site" onchange="updateEmailDomain()">
                                    <option value="" disabled selected>주소를 선택하세요.</option>
                                    <option value="site1">@gmail.com</option>
                                    <option value="site2">@naver.com</option>
                                    <option value="site3">@daum.net</option>
                                    <option value="site3">@yahoo.com</option>
                                </select>
                            </div>

                            <br><br>
                        
                    <a class="project-start" href="/view/projectMake/projectManage.html">제출하기</a> 

            </div> <!-- back-board -->
        </div> <!-- greeting-text -->
    </div>
    </div>
    </div>
</section>

    <!-- Footer -->
    <div class="footer-container">

        <div class="footer-logo">
            <img src="/resources/images/01_logoimg/logoNone.png" alt="footer-logo" class="footer-logo">
        </div>

        <div class="footer">
            <div class="footer-back"></div>
            <div class="footer-left"></div>
            <div class=footer-group>
                <div class=footer-group-design><span class="footer-down">
                        일부 상품의 경우 와디즈는 통신판매중개자이며 통신판매 당사자가 아닙니다.
                        해당되는 상품의 경우 상품, 상품정보, 거래에 관한 의무와 책임은 판매자에게 있으므로, 각 상품 페이지에서 구체적인 내용을 확인하시기 바랍니다. </span>
                    <div class=footer-up><span class="footer-up-right">이메일 상담 abcdefg@gmail.com
                            유선 상담 1234-5678</span><span class="footer-up-left">Cloud Fooding 클라우드 푸딩
                            사업자 등록번호 1234-56-7890
                            서울 종로구 인사동길 12 대일빌딩 7층 클라우드 푸딩
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>